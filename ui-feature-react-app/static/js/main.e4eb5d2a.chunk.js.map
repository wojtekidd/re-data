{"version":3,"sources":["App.tsx","reportWebVitals.ts","contexts/redataOverviewContext.ts","utils/helpers.ts","pages/Alerts.tsx","components/Header.tsx","components/Sidebar.tsx","pages/Dashboard.tsx","components/LineageGraph.tsx","components/ModelDetails.tsx","pages/GraphView.tsx","index.tsx"],"names":["App","Fragment","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","RedataOverviewContext","React","createContext","anomalies","metrics","aggregated_metrics","Map","graph","generated_at","stripQuotes","str","replaceAll","Alerts","useContext","className","scope","map","anomaly","table_name","metric","column_name","last_value","toFixed","format","computed_on","to","tableName","columnName","makeTableKey","Header","type","id","htmlFor","data-dev-hint","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","href","Sidebar","title","overview","require","prepareOverviewData","raw","data","JSON","parse","finalOverview","metricName","has","set","tableMetrics","columnMetrics","metricMap","get","key","push","values","sortedMetrics","sort","a","b","moment","time_window_end","diff","extractMetrics","console","log","Dashboard","Provider","value","LineageGraph","props","useState","network","setNetwork","useSearchParams","model","selectNodes","options","networkOptions","events","getNetwork","n","memo","generateMetricCharts","tableMetricCharts","Array","from","BarChart","width","height","CartesianGrid","strokeDasharray","Bar","dataKey","XAxis","YAxis","Tooltip","cursor","columnMetricCharts","ModelDetails","modelExists","fullTableName","style","GraphView","nodes","edges","dbtNodes","Object","entries","details","split","resource","packageName","modelName","modelId","database","schema","name","node","label","shape","parentNodes","Set","depends_on","parentNode","edge","arrows","generateGraph","setURLSearchParams","selectNode","params","length","modelIdentifier","deselectNode","_","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.e4eb5d2a.chunk.js","sourcesContent":["import React, {ReactElement} from 'react';\nimport './App.css';\nimport {Outlet} from 'react-router-dom';\n\nconst App: React.FC = (): ReactElement => {\n    return (\n        <React.Fragment>\n            <Outlet/>\n        </React.Fragment>\n    );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nexport interface DbtNode {\n    \"raw_sql\": string;\n    \"resource_type\": string;\n    \"depends_on\": {\n        \"macros\": string[];\n        \"nodes\": string[];\n    };\n    \"config\": {\n        \"enabled\": boolean;\n        \"alias\": string | null;\n        \"schema\": string | null;\n        \"database\": string | null;\n        \"tags\": string[];\n        \"meta\": {};\n        \"materialized\": string;\n        \"persist_docs\": {};\n        \"quoting\": {};\n        \"column_types\": {};\n        \"full_refresh\": string | null;\n        \"on_schema_change\": string;\n        \"post-hook\": [];\n        \"pre-hook\": []\n    };\n    \"database\": string;\n    \"schema\": string;\n    \"fqn\": string[];\n    \"unique_id\": string;\n    \"package_name\": string;\n    \"root_path\": string;\n    \"path\": string;\n    \"original_file_path\": string;\n    \"name\": string;\n    \"alias\": string;\n    \"checksum\": {\n        \"name\": string;\n        \"checksum\": string;\n    };\n    \"tags\": [];\n    \"refs\": Array<Array<string>>;\n    \"sources\": [];\n    \"description\": string;\n    \"columns\": {};\n    \"meta\": {};\n    \"docs\": {\n        \"show\": boolean\n    };\n    \"patch_path\": string;\n    \"compiled_path\": string | null;\n    \"build_path\": string | null;\n    \"deferred\": boolean;\n    \"unrendered_config\": {};\n    \"created_at\": number\n}\n\nexport interface Anomaly {\n    column_name: string;\n    computed_on: string;\n    id: string;\n    interval_length_sec: number;\n    last_avg: number;\n    last_stddev: number;\n    last_value: number;\n    metric: string;\n    table_name: string;\n    time_window_end: string;\n    z_score_value: number;\n}\n\nexport interface Metric {\n    column_name: string;\n    computed_on: string;\n    id: string;\n    interval_length_sec: number;\n    metric: string;\n    table_name: string;\n    time_window_end: string;\n    time_window_start: string;\n    value: number;\n}\n\ninterface DbtGraph {\n    exposures: object;\n    nodes: { [key: string]: DbtNode };\n    sources: object;\n}\n\nexport interface AggregatedMetrics {\n    tableMetrics: Map<string, Array<Metric>>;\n    columnMetrics: Map<string, Array<Metric>>;\n}\n\nexport interface OverviewData {\n    anomalies: Array<Anomaly>;\n    metrics: Array<Metric>;\n    aggregated_metrics: Map<string, AggregatedMetrics>;\n    graph: DbtGraph | null;\n    generated_at: string;\n}\n\nexport const RedataOverviewContext = React.createContext<OverviewData>({\n    anomalies: [],\n    metrics: [],\n    aggregated_metrics: new Map<string, AggregatedMetrics>(),\n    graph: null,\n    generated_at: '',\n});\n","export const stripQuotes = (str: string) => {\n    return str.replaceAll('\"', '');\n};\n","import React, {ReactElement, useContext} from \"react\";\nimport {Anomaly, OverviewData, RedataOverviewContext} from \"../contexts/redataOverviewContext\";\nimport {Link} from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport {stripQuotes} from \"../utils/helpers\";\n\nconst makeTableKey = (anomaly: Anomaly) => {\n    const tableName = anomaly.table_name;\n    const metric = anomaly.metric;\n    const columnName = anomaly.column_name ? anomaly.column_name : '';\n    return `${tableName}_${metric}_${columnName}`;\n\n};\n\nconst Alerts: React.FC = (): ReactElement => {\n    const dateTimeFormat = 'YYYY-MM-DD HH:mm:ss';\n    const overview: OverviewData = useContext(RedataOverviewContext);\n    const anomalies = overview.anomalies;\n    return (\n        <div className='grid grid-cols-1'>\n            <div className=\"flex flex-col\">\n                <div className=\"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n                    <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\n                        <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\n                            <table className=\"min-w-full divide-y divide-gray-200\">\n                                <thead className=\"bg-gray-50\">\n                                <tr>\n                                    <th scope=\"col\"\n                                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                        Model\n                                    </th>\n                                    <th scope=\"col\"\n                                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                        Message\n                                    </th>\n                                    <th scope=\"col\"\n                                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                        Metric Value\n                                    </th>\n                                    <th scope=\"col\"\n                                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                        Computed On\n                                    </th>\n                                    <th scope=\"col\" className=\"relative px-6 py-3\">\n                                        <span className=\"sr-only\">Details</span>\n                                    </th>\n                                </tr>\n                                </thead>\n                                <tbody className=\"bg-white divide-y divide-gray-200\">\n                                {anomalies.map(anomaly => (\n                                    <tr key={makeTableKey(anomaly)}>\n                                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span\n                                        className=\"badge mb-3 bg-red-600 rounded-full px-2 py-1 text-center object-right-top text-white text-sm mr-1\">!</span>\n                                            <span\n                                                className='text-xs text-gray-900'>{stripQuotes(anomaly.table_name)}</span>\n                                        </td>\n                                        <td className=\"px-6 text-sm py-4 whitespace-nowrap\">\n                                            <div\n                                                className=\"text-gray-900\">{anomaly.metric} for {anomaly.column_name} 30%\n                                                less than\n                                                yesterday\n                                            </div>\n                                        </td>\n                                        <td className=\"px-6 py-4 text-sm whitespace-nowrap\">\n                                            {anomaly.last_value.toFixed(2)}\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                                            <Moment format={dateTimeFormat}>{anomaly.computed_on}</Moment>\n                                        </td>\n                                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                                            <Link to={'/graph?model=' + stripQuotes(anomaly.table_name)}\n                                                  className=\"text-indigo-600 hover:text-indigo-900\">Details</Link>\n                                        </td>\n                                    </tr>\n                                ))}\n\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Alerts;\n","import React, {ReactElement} from \"react\";\n\nconst Header: React.FC = (): ReactElement => {\n    return (\n        <React.Fragment>\n            <input type=\"checkbox\" id=\"menu-open\" className=\"hidden\"/>\n\n            <label htmlFor=\"menu-open\"\n                   className=\"absolute right-2 bottom-2 shadow-lg rounded-full p-2 bg-gray-100 text-gray-600 md:hidden\"\n                   data-dev-hint=\"floating action button\">\n                <svg className=\"h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\n                     stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"/>\n                </svg>\n            </label>\n            <header className=\"bg-gray-600 text-gray-100 flex justify-between md:hidden\"\n                    data-dev-hint=\"mobile menu bar\">\n                <a href=\"/\" className=\"block p-4 text-white font-bold whitespace-nowrap truncate\">\n                    re data\n                </a>\n\n                <label htmlFor=\"menu-open\" id=\"mobile-menu-button\"\n                       className=\"m-2 p-2 focus:outline-none hover:text-white hover:bg-gray-700 rounded-md\">\n                    <svg id=\"menu-open-icon\" className=\"h-6 w-6 transition duration-200 ease-in-out\"\n                         xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                              d=\"M4 6h16M4 12h16M4 18h16\"/>\n                    </svg>\n                    <svg id=\"menu-close-icon\" className=\"h-6 w-6 transition duration-200 ease-in-out\"\n                         xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                    </svg>\n                </label>\n            </header>\n        </React.Fragment>\n    )\n};\n\nexport default Header;\n","import React, {ReactElement} from \"react\";\nimport {Link} from 'react-router-dom';\nimport {BiNetworkChart, ImNotification} from \"react-icons/all\";\n\nconst Sidebar: React.FC = (): ReactElement => {\n\n    return (\n        <aside id=\"sidebar\"\n               className=\"bg-gray-800 text-gray-100 md:w-60 w-3/4 min-w-min space-y-6 pt-6 px-0 absolute inset-y-0 left-0 transform md:relative md:translate-x-0 transition duration-200 ease-in-out  md:flex md:flex-col md:justify-between overflow-y-auto\"\n               data-dev-hint=\"sidebar; px-0 for frameless; px-2 for visually inset the navigation\">\n            <div className=\"flex flex-col space-y-6\"\n                 data-dev-hint=\"optional div for having an extra footer navigation\">\n                <a href=\"/\" className=\"text-white flex items-center space-x-2 px-4\" title=\"Your App is cool\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 flex-0\" fill=\"none\"\n                         viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\"\n                              d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"/>\n                    </svg>\n                    <span className=\"text-2xl font-extrabold whitespace-nowrap truncate\">re data</span>\n                </a>\n\n                <nav data-dev-hint=\"main navigation\">\n                    <Link to='alerts'\n                          className=\"flex items-center space-x-2 py-2 px-4 transition duration-200 hover:bg-gray-700 hover:text-white\">\n                        <ImNotification/>\n                        <span>Alerts</span>\n                    </Link>\n\n                    <Link to='graph'\n                       className=\"flex items-center space-x-2 py-2 px-4 transition duration-200 hover:bg-gray-700 hover:text-white\">\n                        <BiNetworkChart/>\n                        <span>Graph</span>\n                    </Link>\n                </nav>\n            </div>\n\n            <nav data-dev-hint=\"second-main-navigation or footer navigation\">\n                <a href=\"/\" className=\"block py-2 px-4 transition duration-200 hover:bg-gray-700 hover:text-white\">\n                    Slack\n                </a>\n                <a href=\"/\" className=\"block py-2 px-4 transition duration-200 hover:bg-gray-700 hover:text-white\">\n                    Docs\n                </a>\n            </nav>\n        </aside>\n    );\n};\n\nexport default Sidebar;\n","import React, {ReactElement} from \"react\";\nimport Header from \"../components/Header\";\nimport Sidebar from \"../components/Sidebar\";\nimport {Outlet} from 'react-router-dom';\nimport {AggregatedMetrics, Metric, OverviewData, RedataOverviewContext} from \"../contexts/redataOverviewContext\";\nimport moment from 'moment';\nimport {stripQuotes} from \"../utils/helpers\";\n\ninterface RawOverviewData {\n    anomalies: string | null;\n    metrics: string | null;\n    graph: string;\n    generated_at: string;\n}\n\nconst extractMetrics = (overview: OverviewData) => {\n    const metrics = overview.metrics;\n    const finalOverview: Map<string, AggregatedMetrics> = new Map();\n    for (const metric of metrics) {\n        const tableName = stripQuotes(metric.table_name);\n        const columnName = stripQuotes(metric.column_name);\n        const metricName = stripQuotes(metric.metric);\n        if (!finalOverview.has(tableName)) {\n            finalOverview.set(tableName, {\n                tableMetrics: new Map<string, Array<Metric>>(),\n                columnMetrics: new Map<string, Array<Metric>>(),\n            });\n        }\n        const metricMap = (finalOverview.get(tableName)!);\n        if (!columnName) { // table metric\n            const key = `${tableName}_${metricName}`;\n            if (metricMap.tableMetrics.has(key)) {\n                (metricMap.tableMetrics.get(key)!).push(metric);\n            } else {\n                metricMap.tableMetrics.set(key, [metric]);\n            }\n        } else {\n            const key = `${tableName}_${columnName}_${metricName}`;\n            if (metricMap.columnMetrics.has(key)) {\n                (metricMap.columnMetrics.get(key)!).push(metric);\n            } else {\n                metricMap.columnMetrics.set(key, [metric]);\n            }\n        }\n    }\n    // loop through each table/model and sort by ascending order by time_window_end for table and column metrics\n    for (const metricMap of finalOverview.values()) {\n        for (const [key, metrics] of metricMap.tableMetrics) {\n            const sortedMetrics = metrics.sort((a: Metric, b: Metric) => moment(a.time_window_end).diff(b.time_window_end));\n            metricMap.tableMetrics.set(key, sortedMetrics);\n        }\n        for (const [key, metrics] of metricMap.columnMetrics) {\n            const sortedMetrics = metrics.sort((a: Metric, b: Metric) => moment(a.time_window_end).diff(b.time_window_end));\n            metricMap.tableMetrics.set(key, sortedMetrics);\n        }\n    }\n    return finalOverview;\n};\n\n// const overview: Array<RawOverviewData> = require('../overview.json');\nconst overview: Array<RawOverviewData> = require('../re_data_overview.json');\n\nconst prepareOverviewData = (raw: Array<RawOverviewData>) => {\n    const data = raw[0];\n    const overview: OverviewData = {\n        anomalies: data.anomalies ? JSON.parse(data.anomalies as string) : [],\n        metrics: data.metrics ? JSON.parse(data.metrics as string) : [],\n        aggregated_metrics: new Map<string, AggregatedMetrics>(),\n        graph: JSON.parse(data.graph as string),\n        generated_at: data.generated_at,\n    }\n    overview.aggregated_metrics = extractMetrics(overview);\n    console.log(overview)\n    return overview;\n};\n\nconst Dashboard: React.FC = (): ReactElement => {\n    return (\n        <RedataOverviewContext.Provider value={prepareOverviewData(overview)}>\n            <div className=\"relative min-h-screen md:flex\" data-dev-hint=\"container\">\n                <Header/>\n                <Sidebar/>\n\n                <main id=\"content\" className=\"flex-1 p-6 lg:px-8 bg-gray-100\">\n                    <div className=\"max-w-7xl mx-auto\">\n                        <div className=\"px-4 py-6 sm:px-0\">\n                            <Outlet/>\n                        </div>\n                    </div>\n                </main>\n            </div>\n        </RedataOverviewContext.Provider>\n    );\n};\n\nexport default Dashboard;\n","import React, {memo, PropsWithChildren, ReactElement, useState} from \"react\";\nimport VisNetworkReactComponent from \"vis-network-react\";\nimport {useSearchParams} from \"react-router-dom\";\n\ninterface LineageGraphProps {\n    data: any;\n    events: any;\n    networkOptions: any;\n}\n\nconst LineageGraph: React.FC<LineageGraphProps> = (props: PropsWithChildren<LineageGraphProps>): ReactElement => {\n    const [network, setNetwork] = useState<any>(null);\n    const [searchParams] = useSearchParams();\n    const model = searchParams.get('model');\n    if (model && network) {\n        network.selectNodes([model], true);\n    }\n    const getNetwork = (n: any) => {\n        setNetwork(n);\n        console.log(n);\n    };\n    return (\n        <div className=\"col-span-3\">\n            <VisNetworkReactComponent\n                data={props.data}\n                options={props.networkOptions}\n                events={props.events}\n                getNetwork={getNetwork}\n            />\n        </div>\n    );\n};\n\nexport default memo(LineageGraph, () => {\n    // Return true indicating that the props are always equal to avoid re-rendering of lineage graph since it's static\n    return true\n});\n","import React, {ReactElement, useContext} from \"react\";\nimport {useSearchParams} from \"react-router-dom\"\nimport {AggregatedMetrics, OverviewData, RedataOverviewContext} from \"../contexts/redataOverviewContext\";\nimport {CartesianGrid, XAxis, YAxis, Tooltip, Bar, BarChart} from 'recharts'\n\nconst generateMetricCharts = (data: AggregatedMetrics): ReactElement => {\n    const tableMetricCharts = (\n        Array.from(data.tableMetrics).map(([key, metrics]) => (\n            <div key={key}>\n                <span className=\"text-sm text-gray-500\">{key}</span>\n                <BarChart width={400} height={200} data={metrics}>\n                    <CartesianGrid strokeDasharray=\"3 3\"/>\n                    <Bar dataKey=\"value\" fill=\"#8884d8\"/>\n                    <XAxis dataKey=\"time_window_end\"/>\n                    <YAxis/>\n                    <Tooltip cursor={false}/>\n                </BarChart>\n            </div>\n        )));\n    const columnMetricCharts = (\n        Array.from(data.columnMetrics).map(([key, metrics]) => (\n            <div key={key}>\n                <span className=\"text-sm\">{key}</span>\n                <BarChart width={400} height={200} data={metrics}>\n                    <CartesianGrid strokeDasharray=\"3 3\"/>\n                    <Bar dataKey=\"value\" fill=\"#8884d8\"/>\n                    <XAxis dataKey=\"time_window_end\"/>\n                    <YAxis/>\n                    <Tooltip cursor={false}/>\n                </BarChart>\n            </div>\n        )));\n    return (\n        <div>\n            <span className=\"text-lg text--capitalize font-bold\">Table Metrics</span>\n            {tableMetricCharts}\n            <span className=\"text-lg text--capitalize font-bold\">Column Metrics</span>\n            {columnMetricCharts}\n        </div>\n    );\n}\n\nconst ModelDetails: React.FC = (): ReactElement => {\n    const [searchParams] = useSearchParams();\n    let modelExists = false;\n    const fullTableName = searchParams.get('model');\n    const overview: OverviewData = useContext(RedataOverviewContext);\n    // @ts-ignore\n    let data: AggregatedMetrics = [];\n    if (typeof fullTableName === \"string\" && overview.aggregated_metrics.has(fullTableName)) {\n        modelExists = true;\n        // @ts-ignore\n        data = overview.aggregated_metrics.get(fullTableName);\n    }\n    return (\n        <div className='col-span-2 h-auto overflow-scroll' style={{height: '700px'}}>\n            <div className=\"bg-white rounded shadow border p-3\">\n                {!modelExists ? (<span>No metrics</span>) : generateMetricCharts(data)}\n            </div>\n        </div>\n\n    );\n};\n\nexport default ModelDetails;\n","import React, {ReactElement, useContext} from \"react\";\nimport './GraphView.css';\nimport LineageGraph from \"../components/LineageGraph\";\nimport ModelDetails from \"../components/ModelDetails\";\nimport {useSearchParams} from \"react-router-dom\";\nimport {OverviewData, RedataOverviewContext} from \"../contexts/redataOverviewContext\";\n\ninterface VisPointer {\n    x: number,\n    y: number\n}\n\ninterface VisNode {\n    id: string | number,\n    label: string | number;\n    shape: string;\n}\n\ninterface VisEdge {\n    from: string | number,\n    to: string | number;\n    arrows: string;\n}\n\ninterface VisNetworkEventParams {\n    edges?: Array<string>,\n    nodes?: Array<string>,\n    event?: object,\n    pointer?: {\n        DOM: VisPointer\n        canvas: VisPointer\n    }\n}\n\ninterface IGraph {\n    nodes: Array<VisNode>;\n    edges: Array<VisEdge>;\n}\n\nconst generateGraph = (overview: OverviewData) => {\n    const graph: IGraph = {\n        nodes: [],\n        edges: [],\n    }\n    if (!overview.graph) {\n        return graph;\n    }\n    const dbtNodes = overview.graph.nodes;\n    for (const [model, details] of Object.entries(dbtNodes)) {\n        const [resource, packageName, modelName] = model.split('.');\n        if (resource === 'test' || packageName === 're_data') {\n            continue;\n        }\n        const modelId = `${details.database}.${details.schema}.${details.name}`;\n        const node: VisNode = {\n            id: modelId,\n            label: modelName,\n            shape: 'box',\n        }\n        graph.nodes.push(node)\n\n        const parentNodes = new Set(details.depends_on.nodes);\n        for (const parent of parentNodes) {\n            const parentNode = dbtNodes[parent]\n            if (parentNode) {\n                // in coming edge only if parent node exists\n                const parentModelId = `${parentNode.database}.${parentNode.schema}.${parentNode.name}`;\n                const edge: VisEdge = {\n                    from: parentModelId,\n                    to: modelId,\n                    arrows: 'to'\n                }\n                graph.edges.push(edge);\n            }\n        }\n    }\n    return graph;\n};\n\nconst GraphView: React.FC = (): ReactElement => {\n    const overview: OverviewData = useContext(RedataOverviewContext);\n    const graph = generateGraph(overview)\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const [_, setURLSearchParams] = useSearchParams();\n    const data = {\n        nodes: graph.nodes,\n        edges: graph.edges\n    }\n    const events = {\n        selectNode: (params: VisNetworkEventParams) => {\n            if (!params.nodes || params.nodes.length !== 1) {\n                // only select a single node\n                return\n            }\n            const modelIdentifier = params.nodes[0];\n            setURLSearchParams({\n                model: modelIdentifier,\n            });\n        },\n        deselectNode: (_: VisNetworkEventParams) => {\n            setURLSearchParams({});\n        }\n    };\n    const networkOptions = {\n        \"height\": '700px',\n        \"width\": '700px',\n        \"edges\": {\n            \"color\": {\n                \"color\": \"#8884d8\",\n                \"highlight\": \"#8884d8\",\n                \"hover\": \"#8884d8\",\n                \"inherit\": false\n            }, \"dashes\": false, \"smooth\": {\"type\": \"continuous\", \"forceDirection\": \"none\"}\n        },\n        \"nodes\": {\n            \"color\": {\n                \"border\": \"#8884d8\",\n                \"background\": \"#8884d8\",\n                \"highlight\": \"#392396\",\n                \"hover\": {\n                    \"border\": \"#392396\",\n                    \"background\": \"#8884d8\",\n                }\n            },\n            // \"color\": \"#8884d8\",\n            \"font\": {\n                \"color\": \"#ffffff\"\n            }\n        },\n        \"layout\": {\n            \"hierarchical\": {\n                \"enabled\": true,\n                \"levelSeparation\": 485,\n                \"nodeSpacing\": 5,\n                \"treeSpacing\": 30,\n                \"blockShifting\": false,\n                \"edgeMinimization\": true,\n                \"parentCentralization\": false,\n                \"direction\": \"LR\",\n                \"sortMethod\": \"directed\"\n            }\n        },\n        \"interaction\": {\"hover\": true, \"navigationButtons\": false, \"multiselect\": true, \"keyboard\": {\"enabled\": true}},\n        \"physics\": {\n            \"enabled\": false,\n            \"hierarchicalRepulsion\": {\"centralGravity\": 0},\n            \"minVelocity\": 0.75,\n            \"solver\": \"hierarchicalRepulsion\"\n        }\n    };\n\n    return (\n        <div\n            // className=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-6 gap-4 CustomGraphHeight shadow overflow-hidden border-b border-gray-200 sm:rounded-lg h-full\">\n            className=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-5 gap-4 CustomGraphHeight border-4 border-dashed border-gray-200 rounded-lg h-full\">\n            <LineageGraph data={data} events={events} networkOptions={networkOptions}/>\n            <ModelDetails/>\n        </div>\n    )\n};\n\nexport default GraphView;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Routes, Route, HashRouter} from \"react-router-dom\";\nimport reportWebVitals from './reportWebVitals';\nimport Alerts from \"./pages/Alerts\";\nimport Dashboard from \"./pages/Dashboard\";\nimport GraphView from \"./pages/GraphView\";\n\nReactDOM.render(\n    <HashRouter>\n        <Routes>\n            <Route path=\"/\" element={<App/>}>\n                <Route path=\"/\" element={<Dashboard/>}>\n                    <Route path=\"alerts\" element={<Alerts/>}/>\n                    <Route path=\"graph\" element={<GraphView/>}/>\n                </Route>\n            </Route>\n        </Routes>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}